1. # 概况

   这个框架是我工作4年多, 辗转多地, 借鉴以及思考总结的成果, 框架的表现形式和华为某产品线自动化框架的一致, 特点是, 易读易维护, 我希望这个框架的设计思路能够统一未来新增的自动化框架市场. 当前该框架有其直白高效的范式, 数据和逻辑高度解耦, 核心功能有日志, 报告, 断言, 提取信息, 插件功能有脚本连跑执行入口等. 

   

2. # 相关框架设计思路及其优势

   这个框架主要分为接口自动化和WebUI自动化两部分. 接口自动化部分, 三层解耦, 即业务逻辑描述层, 框架逻辑层, 接口数据描述层. WebUI部分, 三层解耦, 即业务描述层, 框架逻辑层, page数据描述层. 总体的设计思路为, 定义好业务脚本层的描述范式 和 底层数据的描述方式(接口的描述和page的描述), 然后再由切面编程的方式, 由逻辑层去解析上层和下层的描述信息, 然后调用驱动模块来执行相关代码. 这样子设计的好处是, 代码重复率低, 容易阅读, 上手容易, 不需要掌握复杂的框架逻辑和Python语法. 

   其中WebUI框架部分更是短短的400多行代码就完成了框架核心

   

   

3. # 如何搭建并运行

   a. fork仓库并gitclone下来, 或者直接download下来

   b. 使用pycharm打开, 并创建虚拟环境

   c. 找到setup.py阅读, 并编译Python包, 拷贝到虚拟环境中去安装

   d. B站搜索 罗兰水, 并找到安装若依管理系统的视频, 并安装

   e. pycharm工程配置pytest

   f. 使用pip install -r requirements.txt 来安装需要的第三方包(待提供)

   

4. # 使用的技术方案及第三方库

   公共的库: Python, pytest, pyyaml, logging, allure, easydict, pytest-check

   接口自动化方面: request, jsonpath

   WebUI自动化方面: seleniumbase

   

5. # 如何编写一个用例

   1. 修改配置文件, 即修改config目录下的environment文件, 包括URL和账号密码

   2. 调试通登录逻辑, 可在调试脚本的时候再去调试

   3. 按照关键字的格式去封装关键字

   4. 使用关键字来组合成自动化脚本, 并调试

      

6. # 相关配套工具,及其说明

   后期将会上传excel功能用例文件转自动化脚本的工具 , 或许可能会上传录制转脚本的工具(不打算上传主要是用处不大不好用)

   

7. # 各个目录说明

   cases: 用于存放用例的目录

   cases/api: 用于存放API业务脚本

   cases/web_ui: 用于存放web_Ui的业务脚本

   common: 用于存放API关键字, 下面的目录是按照web上的功能模块来拆分的

   config: 配置目录, 目录下的__init__文件用于读取并初始化配置, 其他目录是配置, 比如user.yaml是一些冷数据

   core: 框架核心的目录

   core/logic: api框架的核心, 包含的功能有读取关键字数据, 入参填充, 发请求, 默认断言, 提取响应, 日志等功能

   core/page: web_Ui框架的核心, 包含页面page信息的读取, 解释执行信息, 调用seleniumbase进行执行, 断言等功能

   core/ruoyi_hook: 整个框架的日志功能, 将在钩子函数中注册日志器, 绑定句柄, 将日志打印到控制台, 文件, 和推送到

   httpserver(目前未追加该功能)

   files: 用于存放文件, 业务脚本中部分接口会涉及文件的上传, 文件同意存放在这个目录

   pages: 用于存放page信息, 即不同page的各个元素的定位和描述信息的组合

   utils: 工具组合目录

   run_api_case.py 执行入口

   

8. # 进一步的深入的提纲内容, 技术群信息

   添加微信: 13538302392 并备注Ruoyitest, 即可拉入群聊沟通学习